

# ------------------------------------------------------------------------------
# BIN
# ------------------------------------------------------------------------------
CC=gcc

# ------------------------------------------------------------------------------
# DIRECTORIOS
# ------------------------------------------------------------------------------
ODIR=obj
BDIR=bin
SDIR=.
IDIR=$(SDIR)

# ------------------------------------------------------------------------------
# MAIN - PARAMETROS 
# ------------------------------------------------------------------------------
LISTASOBJ=$(ODIR)/listas.o

# ------------------------------------------------------------------------------
# MAIN - PARAMETROS 
# ------------------------------------------------------------------------------
MAINCFLAGS=-I$(IDIR)
MAINEXE=$(BDIR)/test
MAINSRC=$(SDIR)/test.c
MAINDEPS=$(MAINSRC)
MAINOBJ=$(ODIR)/test.o


# ------------------------------------------------------------------------------
# PROGRAMA PRINCIPAL
# ------------------------------------------------------------------------------

sabueso: $(MAINEXE)

$(MAINEXE): $(BDIR) $(MAINOBJ) $(LISTASOBJ)
	$(CC) $(MAINOBJ) $(LISTASOBJ) -o $(MAINEXE)

$(MAINOBJ): $(ODIR)
	$(CC) -c $(MAINSRC) -o $(MAINOBJ) $(MAINCFLAGS)
	
# ------------------------------------------------------------------------------
# COMPILA LISTAS
# ------------------------------------------------------------------------------

$(LISTASOBJ): listas.c listas.h $(ODIR)
	$(CC) -c $< -o $@

# ------------------------------------------------------------------------------
# DIRECTORIOS
# ------------------------------------------------------------------------------

$(BDIR):
	mkdir $(BDIR)
	
$(ODIR):
	mkdir $(ODIR)

# ------------------------------------------------------------------------------
# CLEAN
# ------------------------------------------------------------------------------

.PHONY:clean
clean:
	rm -r $(ODIR)
	rm -r $(BDIR)

